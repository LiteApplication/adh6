"""empty message

Revision ID: e88207e7b76e
Revises: 1ce37135a071
Create Date: 2022-07-27 20:16:15.905540

"""
from alembic import op
import sqlalchemy as sa


# revision identifiers, used by Alembic.
revision = 'e88207e7b76e'
down_revision = '1ce37135a071'
branch_labels = None
depends_on = None


def upgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.create_index(op.f('ix_accounts_adherent_id'), 'accounts', ['adherent_id'], unique=False)
    op.drop_constraint('accounts_ibfk_1', 'accounts', type_='foreignkey')
    op.drop_constraint('accounts_ibfk_2', 'accounts', type_='foreignkey')
    op.create_index(op.f('ix_adherents_chambre_id'), 'adherents', ['chambre_id'], unique=False)
    op.drop_constraint('adherents_ibfk_1', 'adherents', type_='foreignkey')
    op.create_index(op.f('ix_adhesions_adherent_id'), 'adhesions', ['adherent_id'], unique=False)
    op.drop_constraint('adhesions_ibfk_1', 'adhesions', type_='foreignkey')
    op.drop_constraint('caisse_ibfk_1', 'caisse', type_='foreignkey')
    op.create_index(op.f('ix_chambres_vlan_id'), 'chambres', ['vlan_id'], unique=False)
    op.drop_constraint('chambres_ibfk_1', 'chambres', type_='foreignkey')
    op.create_index(op.f('ix_devices_adherent_id'), 'devices', ['adherent_id'], unique=False)
    op.drop_constraint('devices_ibfk_1', 'devices', type_='foreignkey')
    op.create_index(op.f('ix_membership_account_id'), 'membership', ['account_id'], unique=False)
    op.create_index(op.f('ix_membership_adherent_id'), 'membership', ['adherent_id'], unique=False)
    op.create_index(op.f('ix_membership_payment_method_id'), 'membership', ['payment_method_id'], unique=False)
    op.drop_constraint('membership_ibfk_3', 'membership', type_='foreignkey')
    op.drop_constraint('membership_ibfk_1', 'membership', type_='foreignkey')
    op.drop_constraint('membership_ibfk_2', 'membership', type_='foreignkey')
    op.create_index(op.f('ix_ports_chambre_id'), 'ports', ['chambre_id'], unique=False)
    op.create_index(op.f('ix_ports_switch_id'), 'ports', ['switch_id'], unique=False)
    op.drop_constraint('ports_ibfk_2', 'ports', type_='foreignkey')
    op.drop_constraint('ports_ibfk_1', 'ports', type_='foreignkey')
    op.create_index(op.f('ix_routeurs_adherent_id'), 'routeurs', ['adherent_id'], unique=False)
    op.drop_constraint('routeurs_ibfk_1', 'routeurs', type_='foreignkey')
    op.drop_constraint('transactions_ibfk_2', 'transactions', type_='foreignkey')
    op.drop_constraint('transactions_ibfk_1', 'transactions', type_='foreignkey')
    op.drop_constraint('transactions_ibfk_4', 'transactions', type_='foreignkey')
    op.drop_constraint('transactions_ibfk_3', 'transactions', type_='foreignkey')
    # ### end Alembic commands ###


def downgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.create_foreign_key('transactions_ibfk_3', 'transactions', 'payment_methods', ['type'], ['id'])
    op.create_foreign_key('transactions_ibfk_4', 'transactions', 'adherents', ['author_id'], ['id'])
    op.create_foreign_key('transactions_ibfk_1', 'transactions', 'accounts', ['dst'], ['id'])
    op.create_foreign_key('transactions_ibfk_2', 'transactions', 'accounts', ['src'], ['id'])
    op.create_foreign_key('routeurs_ibfk_1', 'routeurs', 'adherents', ['adherent_id'], ['id'])
    op.drop_index(op.f('ix_routeurs_adherent_id'), table_name='routeurs')
    op.create_foreign_key('ports_ibfk_1', 'ports', 'chambres', ['chambre_id'], ['id'])
    op.create_foreign_key('ports_ibfk_2', 'ports', 'switches', ['switch_id'], ['id'])
    op.drop_index(op.f('ix_ports_switch_id'), table_name='ports')
    op.drop_index(op.f('ix_ports_chambre_id'), table_name='ports')
    op.create_foreign_key('membership_ibfk_2', 'membership', 'adherents', ['adherent_id'], ['id'])
    op.create_foreign_key('membership_ibfk_1', 'membership', 'accounts', ['account_id'], ['id'])
    op.create_foreign_key('membership_ibfk_3', 'membership', 'payment_methods', ['payment_method_id'], ['id'])
    op.drop_index(op.f('ix_membership_payment_method_id'), table_name='membership')
    op.drop_index(op.f('ix_membership_adherent_id'), table_name='membership')
    op.drop_index(op.f('ix_membership_account_id'), table_name='membership')
    op.create_foreign_key('devices_ibfk_1', 'devices', 'adherents', ['adherent_id'], ['id'])
    op.drop_index(op.f('ix_devices_adherent_id'), table_name='devices')
    op.create_foreign_key('chambres_ibfk_1', 'chambres', 'vlans', ['vlan_id'], ['id'])
    op.drop_index(op.f('ix_chambres_vlan_id'), table_name='chambres')
    op.create_foreign_key('caisse_ibfk_1', 'caisse', 'transactions', ['linked_transaction'], ['id'])
    op.create_foreign_key('adhesions_ibfk_1', 'adhesions', 'adherents', ['adherent_id'], ['id'])
    op.drop_index(op.f('ix_adhesions_adherent_id'), table_name='adhesions')
    op.create_foreign_key('adherents_ibfk_1', 'adherents', 'chambres', ['chambre_id'], ['id'])
    op.drop_index(op.f('ix_adherents_chambre_id'), table_name='adherents')
    op.create_foreign_key('accounts_ibfk_2', 'accounts', 'adherents', ['adherent_id'], ['id'])
    op.create_foreign_key('accounts_ibfk_1', 'accounts', 'account_types', ['type'], ['id'])
    op.drop_index(op.f('ix_accounts_adherent_id'), table_name='accounts')
    # ### end Alembic commands ###
