"""empty message

Revision ID: ff11eac619ec
Revises: 
Create Date: 2020-01-20 18:55:58.125387

"""
from alembic import op
import sqlalchemy as sa


# revision identifiers, used by Alembic.
revision = 'ff11eac619ec'
down_revision = None
branch_labels = None
depends_on = None


def upgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.create_table('account_type',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sa.String(length=255), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('comptes',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('intitule', sa.String(length=255), nullable=True),
    sa.Column('description', sa.Text(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('inscriptions',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('nom', sa.String(length=255), nullable=True),
    sa.Column('prenom', sa.String(length=255), nullable=True),
    sa.Column('email', sa.String(length=255), nullable=True),
    sa.Column('login', sa.String(length=255), nullable=True),
    sa.Column('password', sa.String(length=255), nullable=True),
    sa.Column('chambre_id', sa.Integer(), nullable=True),
    sa.Column('duree_cotisation', sa.Integer(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_inscriptions_chambre_id'), 'inscriptions', ['chambre_id'], unique=False)
    op.create_table('mac_vendors',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('prefix', sa.String(length=255), nullable=True),
    sa.Column('nom', sa.String(length=255), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=False),
    sa.Column('updated_at', sa.DateTime(), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('modifications',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('adherent_id', sa.Integer(), nullable=True),
    sa.Column('action', sa.Text(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('utilisateur_id', sa.Integer(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_modifications_adherent_id'), 'modifications', ['adherent_id'], unique=False)
    op.create_index(op.f('ix_modifications_utilisateur_id'), 'modifications', ['utilisateur_id'], unique=False)
    op.create_table('payment_method',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sa.String(length=255), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('product',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('buying_price', sa.DECIMAL(precision=8, scale=2), nullable=False),
    sa.Column('selling_price', sa.DECIMAL(precision=8, scale=2), nullable=False),
    sa.Column('name', sa.String(length=255), nullable=False),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('id')
    )
    op.create_table('switches',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('description', sa.String(length=255), nullable=True),
    sa.Column('ip', sa.String(length=255), nullable=True),
    sa.Column('communaute', sa.String(length=255), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('utilisateurs',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('nom', sa.String(length=255), nullable=True),
    sa.Column('access', sa.Integer(), nullable=True),
    sa.Column('email', sa.String(length=255), nullable=True),
    sa.Column('login', sa.String(length=255), nullable=True),
    sa.Column('password_hash', sa.String(length=255), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('access_token', sa.String(length=255), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('vlans',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('numero', sa.Integer(), nullable=True),
    sa.Column('adresses', sa.String(length=255), nullable=True),
    sa.Column('adressesv6', sa.String(length=255), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('account',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('type', sa.Integer(), nullable=False),
    sa.Column('creation_date', sa.TIMESTAMP(), nullable=False),
    sa.Column('name', sa.String(length=255), nullable=False),
    sa.Column('actif', sa.Boolean(), nullable=False),
    sa.ForeignKeyConstraint(['type'], ['account_type.id'], ),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('creation_date'),
    sa.UniqueConstraint('id')
    )
    op.create_index(op.f('ix_account_type'), 'account', ['type'], unique=False)
    op.create_table('chambres',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('numero', sa.Integer(), nullable=True),
    sa.Column('description', sa.String(length=255), nullable=True),
    sa.Column('telephone', sa.String(length=255), nullable=True),
    sa.Column('vlan_old', sa.Integer(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('dernier_adherent', sa.Integer(), nullable=True),
    sa.Column('vlan_id', sa.Integer(), nullable=True),
    sa.ForeignKeyConstraint(['vlan_id'], ['vlans.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('adherents',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('nom', sa.String(length=255), nullable=True),
    sa.Column('prenom', sa.String(length=255), nullable=True),
    sa.Column('mail', sa.String(length=255), nullable=True),
    sa.Column('login', sa.String(length=255), nullable=True),
    sa.Column('password', sa.String(length=255), nullable=True),
    sa.Column('chambre_id', sa.Integer(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('date_de_depart', sa.Date(), nullable=True),
    sa.Column('commentaires', sa.String(length=255), nullable=True),
    sa.Column('mode_association', sa.DateTime(), server_default=sa.text("'2011-04-30 17:50:17'"), nullable=True),
    sa.Column('access_token', sa.String(length=255), nullable=True),
    sa.ForeignKeyConstraint(['chambre_id'], ['chambres.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('ports',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('rcom', sa.Integer(), nullable=True),
    sa.Column('numero', sa.String(length=255), nullable=True),
    sa.Column('oid', sa.String(length=255), nullable=True),
    sa.Column('switch_id', sa.Integer(), nullable=False),
    sa.Column('chambre_id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.ForeignKeyConstraint(['chambre_id'], ['chambres.id'], ),
    sa.ForeignKeyConstraint(['switch_id'], ['switches.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('transaction',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('value', sa.DECIMAL(precision=8, scale=2), nullable=False),
    sa.Column('timestamp', sa.TIMESTAMP(), nullable=False),
    sa.Column('src', sa.Integer(), nullable=False),
    sa.Column('dst', sa.Integer(), nullable=False),
    sa.Column('name', sa.String(length=255), nullable=False),
    sa.Column('attachments', sa.TEXT(length=65535), nullable=False),
    sa.Column('type', sa.Integer(), nullable=False),
    sa.ForeignKeyConstraint(['dst'], ['account.id'], ),
    sa.ForeignKeyConstraint(['src'], ['account.id'], ),
    sa.ForeignKeyConstraint(['type'], ['payment_method.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_transaction_dst'), 'transaction', ['dst'], unique=False)
    op.create_index(op.f('ix_transaction_src'), 'transaction', ['src'], unique=False)
    op.create_index(op.f('ix_transaction_type'), 'transaction', ['type'], unique=False)
    op.create_table('adhesion',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('adherent_id', sa.Integer(), nullable=False),
    sa.Column('depart', sa.DateTime(), nullable=False),
    sa.Column('fin', sa.DateTime(), nullable=False),
    sa.ForeignKeyConstraint(['adherent_id'], ['adherents.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('caisse',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('fond', sa.Numeric(precision=10, scale=2), nullable=True),
    sa.Column('coffre', sa.Numeric(precision=10, scale=2), nullable=True),
    sa.Column('date', sa.DateTime(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('transaction', sa.Integer(), nullable=True),
    sa.ForeignKeyConstraint(['transaction'], ['transaction.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index(op.f('ix_caisse_transaction'), 'caisse', ['transaction'], unique=False)
    op.create_table('ordinateurs',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('mac', sa.String(length=255), nullable=True),
    sa.Column('ip', sa.String(length=255), nullable=True),
    sa.Column('dns', sa.String(length=255), nullable=True),
    sa.Column('adherent_id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('last_seen', sa.DateTime(), nullable=True),
    sa.Column('ipv6', sa.String(length=255), nullable=True),
    sa.ForeignKeyConstraint(['adherent_id'], ['adherents.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('portables',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('mac', sa.String(length=255), nullable=True),
    sa.Column('adherent_id', sa.Integer(), nullable=False),
    sa.Column('last_seen', sa.DateTime(), nullable=True),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.ForeignKeyConstraint(['adherent_id'], ['adherents.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    # ### end Alembic commands ###


def downgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_table('portables')
    op.drop_table('ordinateurs')
    op.drop_index(op.f('ix_ecritures_utilisateur_id'), table_name='ecritures')
    op.drop_index(op.f('ix_ecritures_compte_id'), table_name='ecritures')
    op.drop_index(op.f('ix_ecritures_adherent_id'), table_name='ecritures')
    op.drop_table('ecritures')
    op.drop_index(op.f('ix_caisse_transaction'), table_name='caisse')
    op.drop_table('caisse')
    op.drop_table('adhesion')
    op.drop_index(op.f('ix_transaction_type'), table_name='transaction')
    op.drop_index(op.f('ix_transaction_src'), table_name='transaction')
    op.drop_index(op.f('ix_transaction_dst'), table_name='transaction')
    op.drop_table('transaction')
    op.drop_table('ports')
    op.drop_table('adherents')
    op.drop_table('chambres')
    op.drop_index(op.f('ix_account_type'), table_name='account')
    op.drop_table('account')
    op.drop_table('vlans')
    op.drop_table('utilisateurs')
    op.drop_table('switches')
    op.drop_table('product')
    op.drop_table('payment_method')
    op.drop_index(op.f('ix_modifications_utilisateur_id'), table_name='modifications')
    op.drop_index(op.f('ix_modifications_adherent_id'), table_name='modifications')
    op.drop_table('modifications')
    op.drop_table('mac_vendors')
    op.drop_index(op.f('ix_inscriptions_chambre_id'), table_name='inscriptions')
    op.drop_table('inscriptions')
    op.drop_table('comptes')
    op.drop_table('account_type')
    # ### end Alembic commands ###
