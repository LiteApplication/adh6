<h2 class="text-left">Liste des ports</h2>
<br/>

<div class="row">
  <div class="col-md-12">
    <input #searchBox id="search-box" (keyup)="search(searchBox.value)" class="w-100 form-control" type="text"/>
  </div>

</div>

<div style="overflow-x:auto;" class="u-max-full-width">
  <table class="w-100 table clickable-table" *ngIf="result$ | async as result">
    <thead>
      <tr>
        <th class="center">Switch</th>
        <th class="center">Num√©ro de port</th>
        <th class="center">Chambre</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let port of result.ports | paginate: {
        id: 'pagination',
        itemsPerPage: result.items_per_page, 
        currentPage: result.current_page, 
        totalItems: result.item_count
      }"
      [routerLink]="['/port', port.switchObj.id, port.id]" routerLinkActive="router-link-active" >
        <td class="center">{{ port.switchObj.description }}</td>
        <td class="center">{{ port.portNumber }}</td>
        <td class="center">
          <a *ngIf="port.room != null" [routerLink]="['/room/view', port.room.id]">{{ port.room.description }}</a>
          <a *ngIf="port.room == null">Aucune chambre</a>
        </td>
      </tr>
    </tbody>
  </table>
</div>
<div class="container d-flex align-items-center justify-content-center">
  <pagination-controls id="pagination" previousLabel="Prev" nextLabel="Next" responsive="true" (pageChange)="handlePageChange($event)"></pagination-controls>
</div>
