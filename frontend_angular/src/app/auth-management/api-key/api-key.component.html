<div class="level">
  <div class="level-item is-fullwidth mr-2">
    <input class="input" placeholder="Identifiant" type="text" [(ngModel)]="login" />
  </div>
  <div class="level-right">
    <div class="level-item">
      <div class="select is-multiple">
        <select [(ngModel)]="roles" multiple size="3">
          <option *ngFor="let roleKey of roleKeys" [value]="roleKey" [label]="roleKey"></option>
        </select>
      </div>
    </div>
    <div class="level-item">
      <button class="button is-primary" (click)="submit()">Nouvelle clef</button>
    </div>
  </div>
</div>
<div class="content">
  <h4 class="title is-4" *ngIf="apiKey !== ''">Clef: {{apiKey}}</h4>
</div>
<ng-container *ngIf="result$ | async as result; else loadingTable">
  <table class="table is-fullwidth">
    <thead>
      <tr>
        <th>Login</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let key of result">
        <td>{{ key.login }}</td>
        <td><button class="button is-danger" (click)="delete(key.id)">Supprimer</button>
      </tr>
    </tbody>
  </table>
</ng-container>
<ng-template #loadingTable>
  <div class="notification is-info is-light has-text-centered">
    <h4 class="title is-4">Chargement ...</h4>
  </div>
</ng-template>
