<table class="table table-striped" *ngIf="result$ | async as result">
  <thead>
  <tr>
    <th>Date</th>
    <th *ngIf="!asAccount">De</th>
    <th *ngIf="asAccount">De / Vers</th>
    <th>Auteur</th>
    <th>Intitulé</th>
    <th>Moyen</th>
    <th>Montant</th>
    <th *ngIf="!asAccount">Vers</th>
    <th *ngIf="actions">Actions</th>
  </tr>
  </thead>
  <tbody>
  <tr
    *ngFor="let transactionResult of result.transactions.reverse() | paginate: { id: 'paginationControlsTemplate',
    itemsPerPage: result.items_per_page, currentPage: result.current_page, totalItems: result.item_count}"
    [ngClass]="asAccount ? ((transactionResult.dst.id==this.asAccount)?'table-success':'table-danger') : ''">
    <td>{{ transactionResult.timestamp }}</td>
    <td>{{ ( transactionResult.src.id==asAccount ? transactionResult.dst.name : transactionResult.src.name ) }}</td>
    <td>{{ transactionResult.author?.username }}</td>
    <td>{{ transactionResult.name }}</td>
    <td>{{ transactionResult.paymentMethod.name }}</td>
    <td>{{ (asAccount ? ( transactionResult.dst.id==asAccount ? '+' : '-' ) : '') + transactionResult.value }}€</td>
    <td *ngIf="!asAccount">{{ transactionResult.dst.name }}</td>
    <td *ngIf="actions">
      <div class="btn-group" role="group" aria-label="actions">
      <button type="button"
              *ngFor="let action of actions"
              class="btn {{ action.class }}"
              (click)="onAction.emit({name: action.name, transaction: transactionResult})">
        <fa-icon *ngIf="action.buttonIcon" [icon]="action.buttonIcon"></fa-icon></button>
      </div>
    </td>
  </tr>
  </tbody>
</table>
<app-custom-pagination id="paginationControlsTemplate"
                       (changePage)="changePage($event)"></app-custom-pagination>
