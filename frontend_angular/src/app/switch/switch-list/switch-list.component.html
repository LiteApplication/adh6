<h2 class="text-left">Liste des switchs</h2>
<br/>

<div class="row">
  <div class="col-md-7">
    <input
      #searchBox
      id="search-box"
      (keyup)="search(searchBox.value)"
      class="w-100 form-control mb-3"
      type="text"
    />
  </div>
  <div class="col-md-5">
    <a [routerLink]="['../add']">
      <button
        class="w-100 btn btn-primary mb-3"
      >
        Nouveau switch
      </button>
    </a>
  </div>
</div>

<div style="overflow-x:auto;" class="u-max-full-width">
  <table class="w-100 table clickable-table" *ngIf="result$ | async as result">
    <thead>
      <tr>
        <th>Description</th>
        <th class="center">Adresse IP</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let switchResult of result.switches | paginate : {
        id: 'pagination',
        itemsPerPage: result.items_per_page,
        currentPage: result.current_page,
        totalItems: result.item_count
      }"
      [routerLink]="['/switch', switchResult.id, 'view']">
        <td class="align-middle">
          {{ switchResult.description }}
        </td>
        <td class="center align-middle">{{ switchResult.ip }}</td>
        <td class="center align-middle">
          <a [routerLink]="['/switch', switchResult.id, 'view']">
            <button class="btn btn-primary">Liste des Ports</button>
          </a>
        </td>
      </tr>
    </tbody>
  </table>
</div>
<div class="container d-flex align-items-center justify-content-center">
  <pagination-controls id="pagination" previousLabel="Prev" nextLabel="Next" responsive="true" (pageChange)="handlePageChange($event)"></pagination-controls>
</div>
